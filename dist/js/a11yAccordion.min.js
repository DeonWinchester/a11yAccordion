"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},_createClass=function(){function e(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(i,t,s){return t&&e(i.prototype,t),s&&e(i,s),i}}(),A11yAccordion=function(){function e(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,e),this.el=null,this.showOne=null,this._hideEffectStyle="linear",this._showHeaderLabelSelector=".a11yAccordionItemHeaderLinkShowLabel",this._hideHeaderLabelSelector=".a11yAccordionItemHeaderLinkHideLabel",this._headerSelector=null,this._accordionItems=null,this._visibleAreaClass=null,this._accordionHideAreas=null,this._speed=null,this._onAreaShow=null,this._onAreaHide=null,this.collapseRow=this.collapseRow.bind(this),this.uncollapseRow=this.uncollapseRow.bind(this),this.toggleRow=this.toggleRow.bind(this),this.getRowEl=this.getRowEl.bind(this),this._init=this._init.bind(this),this._collapseWork=this._collapseWork.bind(this),this._collapseAll=this._collapseAll.bind(this),this._collapse=this._collapse.bind(this),this._uncollapse=this._uncollapse.bind(this),this._getHiddenArea=this._getHiddenArea.bind(this);var t={parentSelector:void 0,accordionItemSelector:".a11yAccordionItem",headerSelector:".a11yAccordionItemHeader",hiddenAreaSelector:".a11yAccordionHideArea",visibleAreaClass:"visiblea11yAccordionItem",colorScheme:"light",speed:300,hiddenLinkDescription:"",showSearch:!0,showOne:!0,overallSearch:!1,onAreaShow:void 0,onAreaHide:void 0};i=_extends({},t,i),this._init(i)}return _createClass(e,[{key:"collapseRow",value:function(e){var i=this._collapse,t=this._getHiddenArea;i(t(e))}},{key:"uncollapseRow",value:function(e){var i=this._uncollapse,t=this._getHiddenArea;i(t(e))}},{key:"toggleRow",value:function(e){var i=this._collapseWork,t=this._getHiddenArea;i(t(e))}},{key:"getRowEl",value:function(e){var i=this._accordionHideAreas,t=this._accordionItems;return e>=0&&e<i.length?$(t[e]):void 0}},{key:"_init",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=$(e.parentSelector),t=e.parentSelector?e.parentSelector.substring(1):void 0,s=e.accordionItemSelector,o=e.hiddenAreaSelector,a=e.headerSelector,n="a11yAccordionItemHeaderLink",r="a11yAccordionItemHeaderText",l="a11yAccordionItemHeaderLinkHiddenLabel",c=t+"-noResultsItem",h="a11yAccordionNoResultsItem",d=t+"-searchPanel",u="a11yAccordionSearchDiv",_=t+"-row-",p=e.colorScheme,f=p+"-a11yAccordion-header",v=p+"-a11yAccordion-area",A="Show",w="Hide";this._onAreaShow=e.onAreaShow?e.onAreaShow:function(){},this._onAreaHide=e.onAreaHide?e.onAreaHide:function(){},this._headerSelector=a,this._speed=e.speed,this._visibleAreaClass=e.visibleAreaClass,this._accordionItems=i.find(s),this.showOne=e.showOne;var b=this._accordionItems.find(a);if(this._accordionHideAreas=this._accordionItems.find(o),!i.length)throw"a11yAccordion - no element(s) with parentSelector was found";if(!this._accordionItems.length)throw"a11yAccordion - no element(s) with accordionItemSelector was found";if(!b.length)throw"a11yAccordion - no element(s) with headerSelector was found";if(!this._accordionHideAreas.length)throw"a11yAccordion - no element(s) with hiddenAreaSelector was found";this.el=i,this._accordionHideAreas.hide(),b.addClass(f),this._accordionHideAreas.addClass(v);var y=function(e){e.preventDefault(),e.stopPropagation();var i=$(e.target).parents(s);this._collapseWork(i.find(o)),i.find("."+n).focus()}.bind(this);if(b.click(y),$.each(b,function(i,t){var s=[],o=$("<a>",{href:"#","class":n});o.click(y),s.push($("<span>",{text:A,"class":this._showHeaderLabelSelector.substring(1)})),s.push($("<span>",{text:w,style:"display: none;","class":this._hideHeaderLabelSelector.substring(1)})),s.push($("<span>",{text:e.hiddenLinkDescription,"class":l})),$(t).wrapInner('<span class="'+r+'"></span>'),o.prepend(s).appendTo(t)}.bind(this)),e.showSearch){var S,g,H,m,k,C="Search",I="a11yAccordionSearch",L="No Results Found",R="Type your query to search",x="Number of results found: ",O=" Please leave blank to see all the results.";S=$("<div />",{id:d,"class":u}),H=$("<input />",{type:"text",placeholder:C,"class":I,title:R}).appendTo(S),g=$("<li />",{"class":h,id:c,style:"display:none;"}).appendTo(i),$("<div />",{"class":a.substring(1)+" "+f,text:L}).appendTo(g),this._accordionItems.each(function(e,i){i.setAttribute("id",_+e)}),S.prependTo(i),H.keyup(function(){g.hide(),m=H.val().toLowerCase(),b.each(function(i,t){var s=-1!==t.children[0].textContent.toLowerCase().indexOf(m)||e.overallSearch&&-1!==this._accordionHideAreas[i].textContent.toLowerCase().indexOf(m)?"show":"hide";$(this._accordionItems[i])[s]()}.bind(this)),k=i.find(a+":visible").length,H.attr("title",x+k.toString()+O),k||g.show()}.bind(this))}}},{key:"_collapseWork",value:function(e){var i=this._visibleAreaClass;e&&this[e.hasClass(i)?"_collapse":"_uncollapse"](e)}},{key:"_collapseAll",value:function(){var e=this._accordionHideAreas,i=this._visibleAreaClass,t=this._collapse,s=e.filter("."+i);$.each(s,function(e,i){return t(i)})}},{key:"_collapse",value:function(e){var i=this._visibleAreaClass,t=this._headerSelector,s=this._showHeaderLabelSelector,o=this._hideHeaderLabelSelector,a=this._speed,n=this._hideEffectStyle,r=this._onAreaHide;if(e=$(e),e.length&&e.hasClass(i)){var l=e.siblings(t);l.find(s).show(),l.find(o).hide(),e.slideUp(a,n,function(){e.removeClass(i),e.hide(),r(e)})}}},{key:"_uncollapse",value:function(e){var i=this._visibleAreaClass,t=this._headerSelector,s=this._showHeaderLabelSelector,o=this._hideHeaderLabelSelector,a=this._speed,n=this._hideEffectStyle,r=this._onAreaShow;if(e=$(e),e.length&&!e.hasClass(i)){this.showOne&&this._collapseAll(e);var l=e.siblings(t);l.find(s).hide(),l.find(o).show(),e.addClass(i),e.slideDown(a,n,function(){e.show(),r(e)})}}},{key:"_getHiddenArea",value:function(e){var i=this._accordionHideAreas;return e>=0&&e<i.length?$(i[e]):void 0}}]),e}();
//# sourceMappingURL=./dist/js/a11yAccordion.min.js.map